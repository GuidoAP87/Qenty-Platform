{% extends 'base.html' %}

{% block content %}

<section class="hero">
    <h1>Descubre tu Magia</h1>
    <p class="subtitle" style="font-size: 1.4rem; color: #666; margin-bottom: 20px;">
        Academia de Artes MÃ­sticas Qenty
    </p>

    <div class="moon-widget" style="margin: 0 auto 10px;">
        <div class="moon-icon" id="mainMoonIcon">ğŸŒ‘</div>
        <div class="moon-info" style="text-align: left;">
            <span class="moon-label">Fase Lunar Actual</span>
            <span class="moon-text" id="mainMoonText">Calculando...</span>
        </div>
    </div>

    <div class="lunar-cycle-container">
        <div class="phase-item" id="p0"><span class="phase-icon">ğŸŒ‘</span><span class="phase-name">Nueva</span></div>
        <div class="phase-item" id="p1"><span class="phase-icon">ğŸŒ’</span><span class="phase-name">Creciente</span></div>
        <div class="phase-item" id="p2"><span class="phase-icon">ğŸŒ“</span><span class="phase-name">C. Creciente</span></div>
        <div class="phase-item" id="p3"><span class="phase-icon">ğŸŒ”</span><span class="phase-name">Gibosa</span></div>
        <div class="phase-item" id="p4"><span class="phase-icon">ğŸŒ•</span><span class="phase-name">Llena</span></div>
        <div class="phase-item" id="p5"><span class="phase-icon">ğŸŒ–</span><span class="phase-name">Gibosa</span></div>
        <div class="phase-item" id="p6"><span class="phase-icon">ğŸŒ—</span><span class="phase-name">C. Menguante</span></div>
        <div class="phase-item" id="p7"><span class="phase-icon">ğŸŒ˜</span><span class="phase-name">Menguante</span></div>
    </div>
</section>

<section class="authority-section" style="margin-top: 80px;">

    <div class="profile-header">
        <div class="profile-photo-container">
            <img src="{{ url_for('static', filename='img/logo-qenty.png') }}" alt="Ariel Abraham Nihany" style="background: white;">
            <div class="expert-badge">âœ“</div>
        </div>
        
        <div class="profile-info">
            <span class="profile-title">Licenciado en PsicologÃ­a & GuÃ­a Espiritual</span>
            <h2>Ariel Abraham Nihany</h2>
            <p class="profile-bio">
                No soy un gurÃº, soy un puente. Mi misiÃ³n es unir la estructura clÃ­nica de la psicologÃ­a con la profundidad simbÃ³lica del chamanismo y el Tarot. <br><br>
                He creado Qenty Espacio para quienes no se conforman con respuestas superficiales y buscan ordenar su historia con herramientas reales y fundamentadas.
            </p>
            
            <div class="stats-grid">
                <div class="stat-item">
                    <strong>+20</strong>
                    <span>AÃ±os de Trayectoria</span>
                </div>
                <div class="stat-item">
                    <strong>Psic.</strong>
                    <span>FormaciÃ³n ClÃ­nica</span>
                </div>
                <div class="stat-item">
                    <strong>100%</strong>
                    <span>Enfoque Ã‰tico</span>
                </div>
            </div>
        </div>
    </div>

    <h2 class="value-pillars-title">Tu FormaciÃ³n con RaÃ­ces Reales</h2>
    
    <div class="pillars-grid">
        <div class="pillar-card">
            <span class="pillar-icon">ğŸ‘ï¸</span>
            <h3>Cruce de Mundos</h3>
            <p style="color: #666; font-size: 0.95rem;">
                Integramos lo visible (psicologÃ­a, estructura) con lo invisible (tarot, rituales) sin mezclarlos, haciÃ©ndolos dialogar para tu sanaciÃ³n.
            </p>
        </div>

        <div class="pillar-card">
            <span class="pillar-icon">ğŸŒ±</span>
            <h3>Sin Soluciones MÃ¡gicas</h3>
            <p style="color: #666; font-size: 0.95rem;">
                No prometemos atajos. Prometemos procesos conscientes. AquÃ­ no vienes a que te adivinen el futuro, vienes a construirlo.
            </p>
        </div>

        <div class="pillar-card">
            <span class="pillar-icon">ğŸ›ï¸</span>
            <h3>SostÃ©n Profesional</h3>
            <p style="color: #666; font-size: 0.95rem;">
                Un espacio seguro sostenido por mÃ¡s de 20 aÃ±os de experiencia terapÃ©utica y formativa. Profundidad, coherencia y Ã©tica.
            </p>
        </div>
    </div>

    <div class="ethics-badge">
        <h3>GarantÃ­a de Encuadre Profesional</h3>
        <p style="color: #ddd; max-width: 800px; margin: 0 auto; line-height: 1.6;">
            Qenty Espacio opera bajo un estricto cÃ³digo Ã©tico. Aunque integro saberes ancestrales, <strong>jamÃ¡s reemplazo tratamientos mÃ©dicos o psicoterapÃ©uticos</strong>. 
            Mis formaciones y lecturas son herramientas de autoconocimiento y desarrollo personal, diferenciadas claramente de la prÃ¡ctica clÃ­nica.
        </p>
        <div style="margin-top: 30px;">
            <span style="color: var(--color-gold); font-size: 1.2rem; font-family: 'Cinzel', serif;">Ariel A. Nihany</span>
        </div>
    </div>

    <div style="margin-top: 60px; text-align: center;">
        <h3 style="margin-bottom: 20px; color: var(--color-primary);">Â¿Listo para profundizar?</h3>
        <a href="/cursos" class="btn-main" style="padding: 15px 50px; font-size: 1rem;">Ver CatÃ¡logo de FormaciÃ³n</a>
    </div>

</section>

<script>
    // --- SCRIPT FASES LUNARES ---
    function getMoonPhase() {
        const newMoonRef = new Date(2024, 0, 11); 
        const lunarCycle = 29.53058867;
        const now = new Date();
        const diffTime = Math.abs(now - newMoonRef);
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); 
        const phaseDay = diffDays % lunarCycle;
        
        let icon, text, phaseIndex;

        if (phaseDay < 1) { icon = "ğŸŒ‘"; text = "Luna Nueva"; phaseIndex = 0; }
        else if (phaseDay < 7.4) { icon = "ğŸŒ’"; text = "Creciente"; phaseIndex = 1; }
        else if (phaseDay < 8.4) { icon = "ğŸŒ“"; text = "Cuarto Creciente"; phaseIndex = 2; }
        else if (phaseDay < 14.8) { icon = "ğŸŒ”"; text = "Gibosa Creciente"; phaseIndex = 3; }
        else if (phaseDay < 15.8) { icon = "ğŸŒ•"; text = "Luna Llena"; phaseIndex = 4; }
        else if (phaseDay < 22.1) { icon = "ğŸŒ–"; text = "Gibosa Menguante"; phaseIndex = 5; }
        else if (phaseDay < 23.1) { icon = "ğŸŒ—"; text = "Cuarto Menguante"; phaseIndex = 6; }
        else { icon = "ğŸŒ˜"; text = "Menguante"; phaseIndex = 7; }

        // Actualizar Widget
        document.getElementById('mainMoonIcon').textContent = icon;
        document.getElementById('mainMoonText').textContent = text;

        // Actualizar Barra
        for(let i=0; i<8; i++) { document.getElementById('p'+i).classList.remove('active'); }
        document.getElementById('p'+phaseIndex).classList.add('active');
    }
    getMoonPhase();

    // --- SCRIPT POLVO MÃGICO DORADO ---
    document.addEventListener('mousemove', function(e) {
        let body = document.querySelector('body');
        let star = document.createElement('span');
        star.style.position = 'absolute';
        star.style.left = e.pageX + 'px';
        star.style.top = e.pageY + 'px';
        star.style.width = 3 + Math.random() * 5 + 'px';
        star.style.height = star.style.width;
        star.style.borderRadius = '50%';
        star.style.pointerEvents = 'none';
        star.style.opacity = '0.9';
        star.style.zIndex = '9999'; // Muy alto para que se vea sobre todo
        star.style.background = '#FFD700'; // Dorado
        star.style.boxShadow = '0 0 8px #FFD700, 0 0 15px #DAA520'; 
        
        body.appendChild(star);

        let directionX = Math.random() * 2 - 1;
        let directionY = Math.random() * 3 - 0.5;
        let speed = 0.02 + Math.random() * 0.03;

        let animation = setInterval(() => {
            star.style.top = (parseFloat(star.style.top) + directionY) + 'px';
            star.style.left = (parseFloat(star.style.left) + directionX) + 'px';
            star.style.opacity = parseFloat(star.style.opacity) - speed;

            if(star.style.opacity <= 0) {
                clearInterval(animation);
                star.remove();
            }
        }, 20);
    });
</script>

{% endblock %}